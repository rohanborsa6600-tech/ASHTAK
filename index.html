<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- मुख्य शीर्षक (Main Title) -->
    <title>अष्टक | डायनॅमिक थीम</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* सर्व थीम्ससाठी आवश्यक असलेले फॉन्ट लोड करत आहे */
        @import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Montserrat:wght@400;600;800&family=Poppins:wght@600;800&family=EB+Garamond:wght@400;700&family=Dancing+Script:wght@700&family=Lora:wght@400;700&family=Roboto+Mono:wght@400&family=Josefin+Sans:wght@600&family=Open+Sans:wght@400;600&display=swap');
        
        /* =============================================== */
        /* १. बॅकग्राउंड ॲनिमेशन (Background Animation) */
        /* =============================================== */
        
        @keyframes subtleBackgroundShift {
            0% { background-color: #1C2827; }
            25% { background-color: #151F23; }
            50% { background-color: #201A18; }
            75% { background-color: #151E1A; }
            100% { background-color: #1C2827; }
        }

        /* बेस स्टायलिंग */
        body {
            /* ॲनिमेशन लागू केले: अतिशय हळूवार 40 सेकंदाचे ॲनिमेशन */
            animation: subtleBackgroundShift 40s infinite alternate; 
            color: #F7F3E8; 
            font-family: 'Merriweather', serif;
            transition: color 0.8s ease; /* फॉन्ट रंग ट्रान्झिशनसाठी */
            overflow-y: scroll; 
            overflow-x: hidden;
            overscroll-behavior-y: contain;
        }

        /* फॉन्ट क्लासेस */
        .merriweather { font-family: 'Merriweather', serif; }
        .montserrat { font-family: 'Montserrat', sans-serif; }
        .poppins { font-family: 'Poppins', sans-serif; }
        .eb-garamond { font-family: 'EB Garamond', serif; }
        .dancing-script { font-family: 'Dancing Script', cursive; }
        .lora { font-family: 'Lora', serif; }
        .roboto-mono { font-family: 'Roboto Mono', monospace; }
        .josefin-sans { font-family: 'Josefin Sans', sans-serif; }
        .open-sans { font-family: 'Open Sans', sans-serif; }

        /* फॉन्ट साइज (Font Size Classes) */
        .text-size-s { font-size: 0.95rem; line-height: 1.7; }
        .text-size-m { font-size: 1.1rem; line-height: 1.8; }
        .text-size-l { font-size: 1.25rem; line-height: 1.9; }

        /* सामान्य कार्ड स्टायलिंग (3D Card Style) */
        .ashtak-card {
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
            user-select: none;
            touch-action: manipulation;
            border-radius: 1rem;
            box-shadow: 
                0 4px 10px rgba(0, 0, 0, 0.4), 
                inset 0 0 10px rgba(0, 0, 0, 0.3);
            position: relative;
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* ॲनिमेशनसाठी ॲडजेस्टेड होव्हर इफेक्ट (Adjusted Hover Effect for Themed Glow) */
        .ashtak-card:hover {
            transform: translateY(-4px) scale(1.01);
            /* हा मूळ बॉक्स-शॅडो आहे, थीम-ग्लोजसाठी खाली CSS Variable वापरू */
            box-shadow: var(--shadow-hover); 
        }

        /* थीम-आधारित लाईट ॲनिमेशन (Theme-based Light Animation) */
        /* प्रत्येक कार्डसाठी 'highlight-color' CSS Variable म्हणून सेट केला जाईल */
        .ashtak-card {
            --highlight-color: #C9A04B; /* Default fallback */
            --shadow-hover: 
                0 0 15px rgba(0, 0, 0, 0.8), 
                0 0 20px var(--highlight-color), 
                0 0 30px var(--highlight-color);
        }

        .ashtak-card:hover {
            box-shadow: var(--shadow-hover);
        }
        
        /* कार्ड लोड झाल्यावर दिसण्यासाठी */
        .ashtak-card.loaded {
            opacity: 1;
            transform: translateY(0);
        }


        /* कार्ड टायटल बॅज स्टाईल */
        .title-badge {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            border-left: 5px solid; 
            width: 100%;
            display: block;
            margin-bottom: 0.5rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        
        /* =============================================== */
        /* २. फुल-स्क्रीन मोडाल स्टायलिंग (Full-Screen Modal Styling) */
        /* =============================================== */
        
        .fullscreen-modal {
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(8px);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .fullscreen-content {
            transition: transform 0.4s ease-out;
            transform: scale(0.95);
            max-height: 100vh;
        }
        
        .fullscreen-modal.active {
            opacity: 1;
        }

        .fullscreen-modal.active .fullscreen-content {
            transform: scale(1);
        }
        
        /* मजकूर कंटेनरला मध्यभागी करा (Centering the text) */
        #fs-modal-text-wrapper {
            text-align: center; /* मजकूर मध्यभागी करण्यासाठी */
        }
        
        #fs-modal-text {
            white-space: pre-wrap;
            /* मजकूर मध्यभागी दिसावा यासाठी */
            display: inline-block; 
            text-align: justify; /* मजकूर वाचनीय ठेवण्यासाठी justify वापरू शकतो, किंवा फक्त center */
            text-align: center; /* संपूर्ण मजकूर मध्यभागी */
            max-width: 100%; /* फुल-स्क्रीन व्ह्यूमध्ये मजकूर जास्त रुंद होऊ नये यासाठी */
        }
        
        /* बटण स्टायलिंग */
        .btn-base {
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-base:hover {
            transform: scale(1.02);
            opacity: 0.9;
        }
        
        /* सिलेक्ट बॉक्स स्टाईल */
        .custom-select {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='white'%3E%3Cpath fill-rule='evenodd' d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z' clip-rule='evenodd' /%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.5rem center;
            padding-right: 2.5rem;
        }
        
        /* =============================================== */
        /* व्ह्यू लेआऊट स्टाईल (View Layout Styles) */
        /* =============================================== */

        /* १. List View (Default) */
        .list-view {
            display: flex;
            flex-direction: column;
            gap: 2rem;
            transition: opacity 0.4s ease-in-out; 
        }
        
        /* २. Grid View */
        .grid-view {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            transition: opacity 0.4s ease-in-out;
        }
        
        /* Grid View: Card Adjustment */
        .grid-view .ashtak-card {
            padding: 1rem;
            height: fit-content;
        }

        .grid-view .title-badge h2 {
            font-size: 1.1rem; 
        }
        
        /* ३. Large Card View */
        .large-card-view {
            display: flex;
            flex-direction: column;
            gap: 3rem;
            transition: opacity 0.4s ease-in-out;
        }

        /* Large Card View: Card Adjustment */
        .large-card-view .ashtak-card {
            max-width: 500px;
            margin: 0 auto;
            padding: 2rem;
        }


    </style>
</head>
<body>

    <div class="max-w-4xl mx-auto p-4 md:p-8">
        <!-- मुख्य शीर्षक (Main Header) -->
        <header class="text-center mb-12 mt-6 md:mt-12">
            <h1 id="main-title" onclick="cycleLayout()" class="text-7xl md:text-8xl font-extrabold tracking-tighter text-white cursor-pointer hover:text-yellow-400 transition-colors">
                अष्टक संग्रह
            </h1>
            <p id="author-name" class="mt-2 text-lg md:text-xl font-semibold text-yellow-500">
                || श्री देवदत्त आश्रम, जाधववाडी ||
            </p>
            <p id="main-subtitle" class="mt-1 text-md md:text-lg font-serif italic text-gray-400">
                <span id="layout-indicator">लेआऊट: डीफॉल्ट लिस्ट</span> | वैविध्यपूर्ण संग्रह (Diverse Collection)
            </p>
        </header>
        
        <!-- नियंत्रण विभाग (Controls Section) -->
        <div class="flex justify-between items-center mb-6">
            <!-- फॉन्ट आकार नियंत्रण (Font Size Control) -->
            <div class="flex items-center">
                <label for="font-size-selector" class="text-white text-sm mr-3 flex items-center">फॉन्ट आकार:</label>
                <div class="relative inline-block">
                    <select id="font-size-selector" onchange="updateFontSize(this.value)"
                        class="custom-select bg-gray-700 text-white border border-gray-600 rounded-lg py-2 pl-3 pr-10 leading-tight focus:outline-none focus:ring-2 focus:ring-yellow-500 cursor-pointer">
                        <option value="text-size-s">S (लहान)</option>
                        <option value="text-size-m" selected>M (मध्यम)</option>
                        <option value="text-size-l">L (मोठा)</option>
                    </select>
                </div>
            </div>
            
            <!-- ट्युटोरियल बटण (Tutorial Button) -->
            <button onclick="showTutorial()" class="btn-base bg-gray-700 text-yellow-400 py-2 px-4 rounded-lg text-sm hover:bg-gray-600 border border-yellow-400/50">
                ? सूचना (Tutorial)
            </button>
        </div>


        <!-- अष्टक कंटेनर (Ashtak Container) -->
        <main id="ashtak-list" class="list-view space-y-8 pb-20">
            <!-- डायनॅमिक मजकूर येथे जोडला जाईल (Dynamic content will be appended here) -->
        </main>
        
        <!-- फुटर (Footer) -->
        <footer class="text-center py-6 text-xs text-gray-500 border-t border-gray-700 mt-10">
            edit by adx
        </footer>

    </div>

    <!-- पूर्ण स्क्रीन वाचन मोडाल (Full-Screen Reading Modal) -->
    <div id="fullscreen-modal" class="fullscreen-modal hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="fullscreen-content w-full h-full relative p-4 md:p-8 rounded-xl shadow-2xl overflow-y-auto" id="fullscreen-content-container">
            
            <!-- बंद करण्याचे बटण (Close Button) -->
            <button onclick="closeModal('fullscreen-modal', 'fullscreen-content-container')" 
                class="absolute top-4 right-4 md:top-6 md:right-6 z-20 p-2 bg-gray-900/50 rounded-full text-white hover:bg-gray-700/80 transition-colors shadow-lg">
                <!-- Close Icon (X) -->
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            
            <!-- शीर्षक -->
            <h2 id="fs-modal-title" class="text-3xl md:text-5xl font-extrabold mb-6 text-center border-b pb-4 mt-10 md:mt-0"></h2>
            
            <!-- मजकूर: डबल टॅप/क्लिक केल्यावर बंद होईल. मजकूर मध्यभागी दिसेल. -->
            <div id="fs-modal-text-wrapper" 
                ondblclick="closeModal('fullscreen-modal', 'fullscreen-content-container')"
                class="max-w-3xl mx-auto py-4 md:py-8 whitespace-pre-wrap cursor-pointer">
                <!-- फॉन्ट आकार वर्ग येथे जोडला जाईल -->
                <p id="fs-modal-text"></p>
            </div>
            
            <p class="text-sm text-center mt-10 pt-4 border-t border-gray-700/50 text-gray-400">
                **टीप:** फुल-स्क्रीन व्ह्यू बंद करण्यासाठी **वरचे X बटण** वापरा किंवा <strong class="text-yellow-400">मजकुरावर डबल टॅप/क्लिक</strong> करा.
            </p>
        </div>
    </div>
    
    <!-- ट्युटोरियल मोडाल (Tutorial Modal) -->
    <div id="onboarding-modal" class="fixed inset-0 z-[110] flex items-center justify-center modal-backdrop transition-opacity duration-300 hidden">
        <div class="bg-gray-800 rounded-xl shadow-2xl max-w-xl w-11/12 p-6 md:p-8 transform transition-transform duration-300 scale-100 border-4 border-gray-500" id="onboarding-content-container">
            <h2 class="text-3xl font-bold text-white mb-6 text-center border-b border-gray-600 pb-3">👋 ॲप कसे वापरावे (Tutorial)</h2>
            
            <p class="text-gray-300">
                **स्वागत आहे!** प्रत्येक अष्टकाची थीम (रंग, फॉन्ट) वेगळी आहे.
            </p>

            <div class="space-y-4 mt-6">
                <div class="flex items-start space-x-3">
                    <span class="text-yellow-400 text-2xl font-bold">१.</span>
                    <p class="text-gray-200">
                        **लेआऊट बदला:** <strong class="text-yellow-400">अष्टक संग्रह</strong> या शीर्षकावर टॅप करून तुम्ही <strong class="text-yellow-400">लिस्ट, ग्रिड</strong> आणि <strong class="text-yellow-400">मोठी कार्ड</strong> या व्ह्यूमध्ये बदलू शकता.
                    </p>
                </div>
                <div class="flex items-start space-x-3">
                    <span class="text-green-400 text-2xl font-bold">२.</span>
                    <p class="text-gray-200">
                        **कार्डवर टॅप/क्लिक करा:** कोणतेही कार्ड <strong class="text-green-400">एकदा टॅप/क्लिक</strong> करा. संपूर्ण मजकूर <strong class="text-green-400">पूर्ण स्क्रीनवर</strong> (Full-Screen) उघडेल.
                    </p>
                </div>
                
                <div class="flex items-start space-x-3">
                    <span class="text-red-400 text-2xl font-bold">३.</span>
                    <p class="text-gray-200">
                        **पूर्ण स्क्रीन बंद करा:** वाचल्यानंतर, <strong class="text-red-400">वरचे 'X' बटण</strong> वापरा किंवा मजकूर भागावर <strong class="text-red-400">डबल टॅप/क्लिक</strong> करा.
                    </p>
                </div>
            </div>

            <div class="flex justify-center mt-8 pt-4 border-t border-gray-600">
                <button onclick="closeModal('onboarding-modal', 'onboarding-content-container')" class="btn-base bg-white text-gray-800 py-3 px-6 rounded-lg shadow-lg">
                    सुरुवात करा (Start App)
                </button>
            </div>
        </div>
    </div>


    <script>
        // थीम कस्टमायझेशन डेटा (Theme Customization Data)
        const customThemes = [
            // १. श्रीयाष्टक - ग्रंथागार थीम (Library Archive)
            { 
                bg: '#1C2827', cardBg: '#243130', textColor: '#F7F3E8', 
                highlight: '#C9A04B', font: 'merriweather', subtitle: 'प्राचीन ग्रंथागार'
            },
            // २. विरहाष्टक - संन्यासी (Vairagya)
            { 
                bg: '#0B0B0B', cardBg: '#181818', textColor: '#7D7D7D', 
                highlight: '#B8860B', font: 'montserrat', subtitle: 'विरह आणि वैराग्य'
            },
            // ३. जयाष्टक - विजयी तेज (Victory Aura)
            { 
                bg: '#08000A', cardBg: '#15001C', textColor: '#FFD700', 
                highlight: '#E53E3E', font: 'poppins', subtitle: 'तेजस्वी विजय घोष'
            },
            // ४. प्रमाणिकाष्टकम् - शास्त्रीय (Classical)
            { 
                bg: '#2A1B0A', cardBg: '#36220E', textColor: '#EADBC8', 
                highlight: '#8B4513', font: 'eb-garamond', subtitle: 'शास्त्रीय प्रमाण'
            },
             // ५. मधुराष्टकम् - प्रेम आणि सौंदर्य (Love & Beauty)
            { 
                bg: '#5A001F', cardBg: '#7D002B', textColor: '#FFC0CB', 
                highlight: '#FF4081', font: 'dancing-script', subtitle: 'मधुर सौंदर्य'
            },
            // ६. नंदकुमाराष्टक - गोकुळ (Nature)
            { 
                bg: '#10343F', cardBg: '#1A4A57', textColor: '#C2F0C2', 
                highlight: '#00C9A5', font: 'lora', subtitle: 'गोकुळातील लीला'
            },
            // ७. गोविंदाष्टकम् - अनंत आकाश (Cosmic)
            { 
                bg: '#020B1D', cardBg: '#081736', textColor: '#ADD8E6', 
                highlight: '#8A2BE2', font: 'roboto-mono', subtitle: 'आकाश आणि ब्रह्मांड'
            },
            // ८. श्रीकृष्णाष्टकम् - राजसी (Majestic)
            { 
                bg: '#44005B', cardBg: '#5A0077', textColor: '#FFEFD5', 
                highlight: '#F0E68C', font: 'josefin-sans', subtitle: 'राजसी ठाट'
            },
            // ९. गुर्वष्टकम् - ध्यान (Meditation)
            { 
                bg: '#1F1F1F', cardBg: '#2E2E2E', textColor: '#D8D8D8', 
                highlight: '#909090', font: 'open-sans', subtitle: 'गुरुंचे ध्यान'
            },
        ];
        
        // मजकूर डेटा (The content data)
        const ashtakData = [
            {
                title: "१. श्रीयाष्टक (Shriyashtak)",
                content: `(श्रीकवीश्वरबास विरचित)\nवृत्तम् :- उपजाति\nश्रीचक्रपाणिं निजभक्ति भाजा । राज्यं रतेः संततमातनोति ।। आमुद्रितमानवमुद्रयातं । नमामि कैवल्यनिधिंधराया\nश्रीचक्रपाणिं निखिलप्रमाणं । प्रोन्मिलता भासदृशामगम्यम् ।। \nनिजैः स्वतः संस्फुरितैर्मयूषैः । प्रकाशमानं परिशीळ (ल)यामि\nश्रीचक्रपाणि सुरचक्रवाळं । परं परब्रम्हनरानुकारि ।। \nकैवल्यमापल्लवितं जगत्यां । जीवस्य सर्वस्वमहं स्मरामि\nश्रीचक्रपाणे करूणांबुराशे । त्रायस्वमां प्रेमसुधाकटाक्षै ।। \nसंसारसर्पच्युत पंचबाण । हाळाहळंव्याकूळ जीवशेषम्\nश्रीचक्रपाणे प्रणयांबुराशे । राशास्मेहशीतळशीकरांस्ते ।। \nकं नामलोके कुरुते न कामं । मनोरथै श्रेणिभिरेषजीवः\nश्रीचक्रपाणे क्षेणमंतिकं ते। न जातु मे वल्लभताकुतः स्यात् ।। \nतथापि याचें प्रणय त्वदियं । मुधाग्रहं किं न करोति बाळः\nश्रीचक्रपाणे तववल्लभत्वं । न स्याततोन्यन्ममनार्थजं यं ।। \nनवं नवं तन्मधुरं तथापि । न स्यात्ततोन्यन्मनार्थनीयं\nश्रीचक्रपाणे चितचंद्रबिंब । करंबितानंदमीदं वपुस्ते ।। \nजांबुनदाभोरूह गर्भगौरं । न च स्मरामिह न विस्मरामि\nवृत्तम् :- वसन्ततिलका \nश्रीचक्रपणिमतिपीतनितंबबिंब । \nदोर्वल्लरी वदनचंद्र पदांबुजाढ्यैः ।।\nतारुण्य संलसित सुंदर सर्वगात्रैः ।\nब्रम्हैव तत् किमपि कंदळितं स्मरामि\nइति श्रीभास्करकवि विरचितायां श्रियाष्टक समाप्तम्`
            },
            {
                title: "२. विरहाष्टक (Virahashtak)",
                content: `(श्रीकवीश्वरबास विरचित)\nछंद :- मालिनी\nविरह विकळ बाळा दृष्टि घालीत माळा । \nसुमरति सुतनुकांती सावळी वेळुवेळा । \nतिमिर पडत मूर्च्छा येत नेत्री विशाळा । \nन कळसि कट कृष्णा सांडिलो येकि हेळा\nजगहि विदित केले कोकिळीं पंचमातें । \nसुमन पिशुन जालें दुर्विलें पै गुणातें । \nकरित मदन वैरी हा न संडी बळातें । \nनियमित मन वज्रासारिखें गोपिनाथें\nआणिक कवण जाणे होत जैसें मृगांकें । \nअनुभवसमतुच्छे बापुडी चक्रवाकें। \nअवयव मुकुलैले पद्मिनी जेवि शोकें । \nउतविळ मन तैसे कृष्णदेवाविलोकें\nशुभ तिलक ललाटीं दिव्य कस्तूरिकेचा । \nअळवट मळकांती रूळला चंदनाचा । \nलवतु नयन डावा पूर्ण चंद्राननाचा । \nसगुण सुफळ यावा कृष्णदेवा प्रियाचा\nविकसित कुचभारीं हार रत्ना नवाचा । \nविखुरित विखुरा जो माणिका मोतियाचा । \nतनु जळत सुगंधें ठावो नूरे तियेचा । \nभ्रमित हृदय कृष्ण स्वामि तो जीविताचा\nअति सुभर अवस्था दाहावी तेचि उठी ।\nस्मरति पतिवियोगें कर्णटाळीं सुनाटी । \nविरमति गति गात्रं जीव जिव्हार दृष्टी । \nपडत पडत लागे जेवि कृष्णासि पाठी\nसुजडित नवरत्नी काढिला दैत्यरायीं ।\nघवघवित निनादी डंबरी वांकी पायीं । \nमृगमदबहका ती शामलांगी सुहावी । \nयदुकुळकुळदीवा देखिलादैव पाई\nविकसित मुखरश्मी केतकी कुंतलाची । \nपडत कलरवी हें झांक भृंगावळीची ।\nमृगतनुवपु खुंपे दृष्टि गोपांगनांची ।\nपुनरपि सुख मेळी कृष्णदेवाप्रियाची\nकनकवन झळाळी दिव्य पीतांबराची । \nझळफळित कपोली दीप्ति जे कुंडलाची । \nरुळत चरणि पावे वैजयंती गळाची ।\nप्रसन्न दृष्टि सुहावी दैवभाग्यादिकांची`
            },
            {
                title: "३. जयाष्टक (Jayashtak)",
                content: `(श्रीकवीश्वरबास विरचित)\nछंद : मालिनी\nजय कृतबहुमुक्ती सुंदरानंतशक्ती । \nजय विकसित विद्या घोरसंसारवैद्या ।\nजय जगभरिता श्रीकृष्णराया विमाया ।\nजय तिलकत सृष्टी पाहि मां प्रेमदृष्टी\nजय सुकृतसुकाळा मोक्षमार्गादिमूळा ।\nजय हतभवदोषा चारु मायांगवेषा । (मातांगवेषा) \nजय धृत पळभारालर्कताप प्रहारा । (तापापहारा)\nजय युगचयटीळा तूंचि दत्ता सुलीळा\nजय जगचयबीजा गोमतिक्षिप्तपुंजा । \nजय करधृतसूर्पा मार्जनी चिन्हऋणा । \nजय विगलितसंज्ञा चक्रपाणि मनोज्ञा । \nजय वरसुखदानी तूंचि आम्हां निदानी\nजय सुरवरवंद्या जीववैद्यानुवैद्या । \nजयपरमविलोका रक्षिता शेषलोकाम् । \nजय विमल भवारि चिद्धमेषावधारी । \nजय विहरत शक्ति तूं परासेव्य भक्ती\nजय परमनिधाना मोक्षदानावसाना । \nजय सुकणवनेत्रा चंडविराजवक्त्रा । \nजय नरामयधामानंतधानंतनामा । \nजय भवभयनाशा चक्रपाणी परेशा\nजय सुभगचरित्रा जीवतीर्था पवित्रा । \nजय विबुधशरण्या क्षाळिताद्यौघपुण्या ।\nजय सुखनिधिमूर्ती केवलापारकीर्ती । \nजय विविधविहारा तूं परानंदहीरा\nजय सकळसमाना ज्ञानिभक्ताभिमाना । \nजय विगलितविवादा सृष्टिमूळादिकंदा । \nजय मधुरकटाक्षा ब्रह्मविद्या शुभैक्षा । \nजय बहुविधवेधा फेडि संसारबाधा\nअधिक समविहीन क्षेम पै वोद्वितीये । \nप्रथम परम पूज्यामाजि लाभैकसीमा । \nन पुसवे हि वेत्ते ब्रम्ह सांगो न जाणे । \nपरतरहितजीवा स्थान चांपोलगौरम्\nखुलुरि परधनाची दैवसंकेत ठावो । \nसकळगुणगणांचे दीप मोक्षैकधाम । \nवर मुनिपरदैवानंदसाम्राज्य तारु । \nविदितभरितमुक्ती गुर्जरु ब्रह्म जाणै`
            },
            {
                title: "४. प्रमाणिकाष्टकम् (Pramanikashtakam)",
                content: `(श्रीकृष्णाष्टकम्)\nभजे व्रजैकमण्डनं समस्तपापखण्डनम्, \nस्वभक्तचित्तरंजनं सदैव नन्दनन्दनम् । \nसुपिच्छगुच्छमस्तकं सुनादवेणुहस्तकम्,\nअनंगरंगसागरं नमामि कृष्णनागरम्\nमनोजगर्वमोचनं विशाललोललोचनम्, \nविधूतगोपशोचनं नमामि पद्मलोचनम् । \nकरारविन्दभूधरं स्मितावलोकसुन्दरम्,\nमहेन्द्रमानदारणं नमामि कृष्णावारणम्\nकदम्बसूनकुण्डलं सुचारुगण्डमण्डलम्, \nव्रजांगनैकवल्लभं नमामि कृष्णदुर्लभम् । \nयशोदया समोदया सगोपया सनन्दया,\nयुतं सुखैकदायकं नमामि गोपनायकम्\nसदैव पादपंकजं मदीय मानसे निजम्, \nदधानमुक्तमालकं नमामि नन्दबालकम् ।\nसमस्तदोषशोषणं समस्तलोकपोषणम्, \nसमस्तगोपमानसं नमामि नन्दलालसम्\nभुवो भरावतारकं भवाब्धिकर्णधारकम्, \nयशोमतीकिशोरकं नमामि चित्तचोरकम् । \nदृगन्तकान्तभंगिनं सदा सदालिसंगिनम्,\nदिने दिने नवं नवं नमामि नन्दसम्भवम्\nगुणाकरं सुखाकरं कृपाकरं कृपापरम्, \nसुरद्विषन्निकन्दनं नमामि गोपनन्दनम् । \nनवीनगोपनागरं नवीनकेलिलम्पटम्,\nनमामि मेघसुन्दरं तडित्प्रभालसत्पटम्\nसमस्तगोपनन्दनं हृदम्बुजैकमोदनम्, \nनमामि कुंजमध्यगं प्रसन्नभानुशोभनम् ।\nनिकामकामदायकं दृगन्तचारुसायकम्,\nरसालवेणुगायकं नमामि कुंजनायकम्\nयदा तदा यथा तथा तथैव कृष्णसत्कथा, \nमया सदैव गीयतां तथा कृपा विधीयताम् ।\nप्रमाणिकाष्टकद्वयं जपत्यधीत्य यः पुमान, (यत्पुमान् ?)\nभवेत्स नन्दनन्दने भवे भवे सुभक्तिमान`
            },
            {
                title: "५. मधुराष्टकम् (Madhurashtakam)",
                content: `अधरं मधुरं वदनं मधुरं नयनं मधुरं हसितं मधुरम् । \nहृदयं मधुरं गमनं मधुरं मधुराधिपतेरखिलं मधुरम् \nवचनं मधुरं चरितं मधुरं वसनं मधुरं वलितं मधुरम् । \nचलितं मधुरं भ्रमितं मधुरं मधुराधिपतेरखिलं मधुरम्\nवेणुर्मधुरो रेणुर्मधुरः पाणिर्मधुरः पादौ मधुरौ । \nनृत्यं मधुरं सख्यं मधुरं मधुराधिपतेरखिलं मधुरम् \nगीतं मधुरं पीतं मधुरं भुक्तं मधुरं सुप्तं मधुरम् । \nरूपं मधुरं तिलकं मधुरं मधुराधिपतेरखिलं मधुरम्\nकरणं मधुरं तरणं मधुरं हरणं मधुरं रमणं मधुरम् । \nवमितं मधुरं शमितं मधुरं मधुराधिपतेरखिलं मधुरम्\nगुञ्जा मधुरा माला मधुरा यमुना मधुरा वीची मधुरा । \nसलिलं मधुरं कमलं मधुरं मधुराधिपतेरखिलं मधुरम्\nगोपी मधुरा लीला मधुरा युक्तं मधुरं मुक्तं मधुरम् । \nदृष्टं मधुरं शिष्टं मधुरं मधुराधिपतेरखिलं मधुरम्\nगोपा मधुरा गावो मधुरा यष्टिर्मधुरा सृष्टिर्मधुरा । \nदलितं मधुरं फलितं मधुरं मधुराधिपतेरखिलं मधुरम्\n।। वल्लभाचार्यविरचितं मधुराष्टकं सम्पूर्ण ।।`
            },
            {
                title: "६. नंदकुमाराष्टक (Nandkumarashtak)",
                content: `सुन्दर गोपालं उरवनमालं नयन विशालं दुःख हरम्, \nवृन्दावन चन्द्रं आनंदकंदं परमानन्दं मुरलीधरम् । \nवल्लभ घनश्यामं पूरण कामं अत्यभिरामं प्रीतिकरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nसुन्दरवारिज वदनं निर्जितमदनं आनन्दसदनं मुकुटधरम्, \nगुंजाकृतिहारं विपिनविहारं परमोदारं चीरहरम् । \nवल्लभ पटपीतं कृतउपवीतं करनवनीतं विबुधवरम् ।\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nशोभित मुख धूलं यमुना कूलं निपट अतूलं सुखदतरम्, \nमुख मण्डित रेणुं चारित धेनुं बाजित वेणुं मधुर सुरम् । \nवल्लभ अति विमलं शुभपदकमलं नखरुचि अमलं तिमिरहरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nशिर मुकुट सुदेशं कुंचित केशं नटवरवेशं कामवरम् ।\nमायाकृतमनुजं हलधर अनुजं प्रतिहदनुजं भारहरम् । \nवल्लभ व्रजपालं सुभग सुचालं हित अनुकालं भाववरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nइन्दीवरभासं प्रकटसुरासं कुसुमविकासं वंशीधरम्, \nहृतमन्मथमानं रूपनिधानं कृतकलिगानं चित्तहरम् । \nवल्लभ मृदुहासं कुंजनिवासं विविधविलासं केलिकरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nअति परं प्रवीणं पालितदीनं भक्ताधीनं कर्मकरम्,\nमोहन मतिधीरं फणिबलवीरं हतपरवीरं तरलतरम् । \nवल्लभ व्रजरमणं वारिजवदनं जलधरशमनं शैलधरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nजलधरद्युतिअंगं ललितत्रिभंगं बहुकृतिरंगं रसिकवरम्, \nगोकुलपरिवारं मदनाकारं कुंजविहारं गूढनरम् । \nवल्लभ व्रजचन्दं सुभग सुचन्दं कृताअनन्दं भ्रांतिहरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्\nवंदित युग चरणं पावन करणं जगत उद्धरणं विमलधरम्, \nकालिय शिर गमनं कृत फणिनमनं घातित यमनं मृदुलतरम् । \nवल्लभ दुःखहरणं निरमलचरणं अशरण शरणं मुक्तिकरम्,\nभज नंद कुमारं सर्वसुख सारं तत्वविचारं ब्रह्मपरम्`
            },
            {
                title: "७. गोविंदाष्टकम् (Govindashtakam)",
                content: `सत्यं ज्ञानमनन्तं नित्यमनाकाशं परमाकाशम् । \nगोष्ठप्राङ्गणरिङ्गणलोलमनायासं परमायासम् ।। \nमायाकल्पितनानाकारमनाकारं भुवनाकारम् । \nक्ष्माया नाथमनाथं प्रणमत गोविंदं परमानंदम्\nमृत्स्नामत्सीहेति यशोदाताडनशैशव संत्रासम् । व्यदितवक्त्रालोकितलोकालोकचतुर्दशलोकालिम् ।। \nलोकत्रयपुरमूलस्तंभं लोकालोकमनालोकम् । \nलोकेशं परमेशं प्रणमत गोविंदं परमानंदम्\nत्रैविष्टपरिपुवीरघ्नं क्षितिभारघ्नं भवरोगघ्नम् । \nकैवल्यं नवनीताहारमनाहारं भुवनाहारम् । वैमल्यस्फुटचेतोवृत्तिविशेषाभासमनाभासम् । \nशैवं केवलशांतं प्रणमत गोविंदं परमानंदम्\nगोपालं प्रभुलीलाविग्रहगोपालं कुलगोपालम् । गोपीखेलनगोवर्धनधृतिलीलालालितगोपालम् । \nगोभिर्निगदित गोविंदस्फुतनामानं बहुनामानम् । \nगोपीगोचरपथिकं प्रणमत गोविंदं परमानंदम्\nगोपीमंडलगोष्ठिभेदं भेदावस्थमभेदाभम् । \nशश्वद् गोखुरनिर्धूतोद्धतधूलीधूसरसौभाग्यम् ।\nश्रद्धाभक्तिगृहीतानंदमचिन्त्यं चिंतितसद्भावम् । \nचिंतामणिमहिमानं प्रणमत गोविंदं परमानंदम्\nस्नानव्याकुलयोशिद् वस्त्रमुपादायागमुपारूढम् । \nव्यदित्संतिरथ दिग्वस्त्रा ह्युपुदातुमुपाकर्षतम् । \nनिर्धूतद्वयशोकविमोहं बुद्धं बुद्धेरंतस्थम् । \nसत्तामात्र शरीरं प्रणमत गोविंदं परमानंदम्\nकान्तं कारणकारणमादिमनादिं कालमनाभासम् । \nकालिंदीगतकालियशिरसि मुहुर्नृत्यं तं नृत्यंतम् । \nकालं कालकलातीतं कलिताशेषं कलिदोषघ्नम् । \nकालत्रयगतिहेतुं प्रणमत गोविंदं परमानंदम्\nवृंदावनभुवि वृंदारकगणवृन्दाराध्यं वंदेऽहम् । \nकुंदाभामलमंदस्मेरसुधानंदं सुहृदानंदम् । \nवंद्याशेषमहामुनिमानसवंद्यानंदपदद्वंद्वंम् । \nवंद्याशेषगुणाब्धिं प्रणमत गोविंदं परमानंदम्\nगोविंदाष्टकमेतदधीते गोविंदार्पितचेता यो । \nगोविंदाच्युत माधव गोकुलनायक कृष्णेति । गोविंदाङ्घ्रिसरोजध्यानसुधाजलधौतसमस्ताघो । \nगोविंदं परमानंदामृतमंतःस्थं स तमभ्येति ।।\n।। शंकराचार्यविरचितं श्रीगोविंदाष्टकं संपूर्णम् ।।`
            },
            {
                title: "८. श्रीकृष्णाष्टकम् (Shrikrishnastakam)",
                content: `वसुदेव सुतं देवं कंस चाणूर मर्दनम् । \nदेवकी परमानन्दं श्रीकृष्णं वन्दे जगदुरम्\nअतसी पुष्प सङ्काशं हार नूपुर शोभितम् । \nरत्न कङ्कण केयुरं श्रीकृष्णं वन्दे जगदुरम्\nकुटिलालक संयुक्तं पूर्णचन्द्र निभाननम् । \nविलसत् कुण्डलधरं देवं श्रीकृष्णं वन्दे जगदुरम्\nमंन्दार गन्ध संयुक्तं चारुहासं चतुर्भुजम् । \nबर्हि पिंछाव चूडाङ्गं श्रीकृष्णं वन्दे जगदुरम्\nउत्फुल्ल पद्मपत्राक्षं नील जीमूत सन्निभम् ।\nयादवानां शिरोरत्नं श्रीकृष्णं वन्दे जगदुरम् \nरुक्मिणी केलि संयुक्तं पीताम्बर सुशोभितम् । \nअवाप्त तुलसी गन्धं श्रीकृष्णं वन्दे जगदुरम्\nगोपिकानां कुचद्वन्द कुङ्कुमाङ्कित वक्षसम् । \nश्रीनिकेतं महेष्वासं श्रीकृष्णं वन्दे जगदुरम्\nश्रीवत्साङ्क महोरस्कं वनमाला विराजितम् । \nशङ्खचक्र धरं देवं श्रीकृष्णं वन्दे जगद्गुरम्\nकृष्णाष्टकमिदं पुण्यं प्रातरुत्थाय यः पठेत् । \nकोटिजन्म कृतं पापं स्मरणेन विनश्यति ।।`
            },
            {
                title: "९. गुर्वष्टकम् (Gurvashtakam)",
                content: `( ततः   किं )\nशरीरं सुरूपं तथा वा कलत्रं, यशश्चारु चित्रं धनं मेरु तुल्यम् । मनश्चेन लग्नं गुरोरघ्रिपद्ये, ततः किं ततः किं ततः किं ततः किम् \nअसे गोजिरी ही तनू वा प्रिया ती ।। बहू द्रव्य आणि यशाची क्रिया ती ।। प्रभुपादपद्मी नसे चित्त ज्याचे. पुढे काय त्याचे, पुढे काय त्याचे ।।\nकलत्रं धनं पुत्र पौत्रादिसर्वं । गृहो बान्धवाः सर्वमेतद्धि जातम् \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम् \nअहो भामिनी द्रव्य पुत्रदि सर्व ।। घरा बांधवाचा मनी वाहे गर्व ।। \nप्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nषड़ंगादिवेदो मुखे शास्त्रविद्या । कवित्वादि गद्यं सुपद्यं करोति । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम् \nअरे वेद वेदांग ते सर्व पाठ ।। वरी काव्य तेही करीसी सुसाट ।। \nप्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nविदेशेषु मान्यः स्वदेशेषु धन्यः । सदाचारवृत्तेषु मत्तो न चान्यः । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम् \nविदेशी प्रसिद्धी स्वदेशी सुसिद्धी ।। जिवी बाणली ती सदाचारवृत्ती ।। प्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nक्षमामण्डले भूपभूपालवृन्दैः । सदा सेवितं यस्य पादारविन्दम् । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम्\nअहो थोर राजादिकांनी स्वभावे ।। ययाच्या पदा सेविले भक्तीभावे ।।\nप्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nयशो मे गतं दिक्षु दानप्रतापात् । जगद्वस्तु सर्वं करे यत्प्रसादात् । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम् \nअसे थोर दानी अशी कीर्ती झाली ।। जगातील प्रत्येक वस्तू मिळाली ।। प्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nन भोगे न योगे न वा वाजिराजौ । न कन्तामुखे नैव वित्तेषु चित्तम् । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम्\nन भोगी न योगी न नाना सुखांत ।। सुकांतामुखी जाहला जो न भ्रांत ।। प्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nअरण्ये न वा स्वस्य गेहे न कार्ये । न देहे मनो वर्तते मे त्वनधर्ये । \nमनश्चेन लग्नं गुरोरघ्रिपद्ये । ततः किं ततः किं ततः किं ततः किम् \nअरण्यात किंवा न च स्वगृहांत ।। मनोमीन ज्याचा न गुंते कशात ।। \nप्रभुपादपद्मी नसे चित्त ज्याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।\nगुरोरष्टकं यः पठेत्पुण्यदेही । यतिर्भूपतिर्ब्रह्मचारी च गेही । \nलभेदिच्छितार्थं पदं ब्रह्मसंज्ञं । गुरोरुक्तवाक्ये मनो यस्य लग्नम् \nयती भूपती ब्रह्मचारी गृहस्थ ।। यया अष्टकाते करी जो मुखस्थ ।। \nतया लाभ ऐसा मिळे वांछितार्थ ।। प्रभुच्या पदी जन्म होई कृतार्थ ।।\nअहो सर्व पोथ्या तथा पुस्तके ती । पीडीएफ आणि ध्वनीफीत हाती ।। परी घोकपाणी करी जो न याचे । पुढे काय त्याचे, पुढे काय त्याचे ।।`
            }
        ];

        // सध्या निवडलेला फॉन्ट आकार (Default to medium)
        let currentFontSizeClass = 'text-size-m';

        // लेआऊट नियंत्रण (Layout Control)
        const layouts = [
            { name: 'डीफॉल्ट लिस्ट', class: 'list-view' },
            { name: 'कॉम्पॅक्ट ग्रिड', class: 'grid-view' },
            { name: 'मोठी कार्ड्स', class: 'large-card-view' }
        ];
        let currentLayoutIndex = 0;
        
        // लाँग प्रेससाठी वेळ मर्यादा (Long press time threshold in milliseconds) 
        const LONG_PRESS_THRESHOLD = 500; 
        let pressTimer = null;
        let isMoving = false; 
        
        // ===============================================
        // लेआऊट आणि फॉन्ट नियंत्रण फंक्शन्स
        // ===============================================

        /**
         * व्ह्यू लेआऊट बदलते (Cycles the view layout)
         */
        function cycleLayout() {
            const listContainer = document.getElementById('ashtak-list');
            const layoutIndicator = document.getElementById('layout-indicator');

            // ॲनिमेशनसाठी कंटेनरला 'opacity: 0' लावा
            listContainer.style.opacity = 0; 

            setTimeout(() => {
                // जुना लेआऊट क्लास काढा
                listContainer.classList.remove(layouts[currentLayoutIndex].class);

                // इंडेक्स अपडेट करा
                currentLayoutIndex = (currentLayoutIndex + 1) % layouts.length;

                // नवीन लेआऊट क्लास जोडा
                listContainer.classList.add(layouts[currentLayoutIndex].class);
                layoutIndicator.innerText = `लेआऊट: ${layouts[currentLayoutIndex].name}`;

                // ॲनिमेशनसाठी कंटेनरला 'opacity: 1' लावा
                listContainer.style.opacity = 1; 

                console.log(`Layout changed to: ${layouts[currentLayoutIndex].name}`);
            }, 400); // 0.4 सेकंदाच्या विलंबानंतर बदल करा
        }

        /**
         * वापरकर्त्याने निवडलेला फॉन्ट आकार अपडेट करते.
         */
        function updateFontSize(newSizeClass) {
            currentFontSizeClass = newSizeClass;
            
            // फुल-स्क्रीन मोडाल मजकूर आकार अपडेट करा
            const fsModalText = document.getElementById('fs-modal-text');
            if (fsModalText) {
                 fsModalText.classList.remove('text-size-s', 'text-size-m', 'text-size-l'); 
                 fsModalText.classList.add(currentFontSizeClass); 
            }

            console.log(`Font size updated to: ${currentFontSizeClass}`);
        }

        /**
         * मुख्य बॉडी आणि ॲपचा रंग (Background/Text) थीमनुसार अपडेट करते.
         * आता हे फंक्शन केवळ फॉन्ट कलर अपडेट करेल, कारण बॅकग्राउंड कलर CSS ॲनिमेशनद्वारे नियंत्रित आहे.
         */
        function updateBodyTheme(theme) {
            // document.body.style.backgroundColor = theme.bg; // ॲनिमेशनमुळे याची गरज नाही
            document.body.style.color = theme.textColor;
        }


        // ===============================================
        // मोडाल आणि UI फंक्शन्स
        // ===============================================

        /**
         * ट्युटोरियल मोडाल दाखवते. (Shows the tutorial modal)
         */
        function showTutorial() {
            const onboardingModal = document.getElementById('onboarding-modal');
            const onboardingContentContainer = document.getElementById('onboarding-content-container');
            
            onboardingModal.classList.remove('hidden');
            setTimeout(() => {
                onboardingContentContainer.classList.remove('opacity-0', 'scale-95');
                onboardingContentContainer.classList.add('opacity-100', 'scale-100');
            }, 10);
        }

        /**
         * फुल-स्क्रीन मोडाल उघडते. (Shows the full-screen modal)
         */
        function showFullScreenModal(title, content, theme) {
            const modal = document.getElementById('fullscreen-modal');
            const modalContentContainer = document.getElementById('fullscreen-content-container');
            const modalTitle = document.getElementById('fs-modal-title');
            const modalText = document.getElementById('fs-modal-text');
            
            // मोडालला कार्डची थीम लावा
            modalContentContainer.style.backgroundColor = theme.cardBg;
            modalContentContainer.style.color = theme.textColor;
            modalContentContainer.style.borderColor = theme.highlight;
            modalTitle.style.color = theme.highlight;
            modalTitle.style.borderColor = theme.highlight;

            modalTitle.innerText = title.split(' (')[0]; 
            modalText.innerText = content;
            
            // फॉन्ट आणि सध्याचा आकार मोडालला लावा
            modalText.className = `${theme.font} ${currentFontSizeClass}`;
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // मुख्य पेज स्क्रोलिंग थांबवा
            
            setTimeout(() => {
                modal.classList.add('active'); // opacity 1
            }, 10); 
        }

        /**
         * मोडाल बंद करते. (Closes any modal)
         */
        function closeModal(modalId, contentId) {
            const modal = document.getElementById(modalId);
            const modalContentContainer = document.getElementById(contentId);

            if (modalId === 'fullscreen-modal') {
                modal.classList.remove('active'); // opacity 0
                document.body.style.overflow = 'scroll'; // स्क्रोलिंग पुन्हा चालू करा
            } else {
                modalContentContainer.classList.remove('opacity-100', 'scale-100');
                modalContentContainer.classList.add('opacity-0', 'scale-95');
            }
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300); 
        }

        /**
         * कार्डच्या क्लिक आणि टॅप इव्हेंटला हँडल करते.
         */
        function handleCardAction(cardElement, title, content, theme) {
            // सिंगल टॅप/क्लिक असल्यास फुल-स्क्रीन मोडाल उघडा
            showFullScreenModal(title, content, theme);
        }

        /**
         * प्रत्येक अष्टकासाठी HTML कार्ड तयार करते आणि थीम लागू करते. (Creates and themes the HTML card)
         */
        function createAshtakCard(item, index) {
            const theme = customThemes[index % customThemes.length];
            
            const card = document.createElement('div');
            card.className = 'ashtak-card p-5 transition-all';
            
            // कार्डला युनिक स्टाईल लागू करा
            card.style.backgroundColor = theme.cardBg;
            card.style.color = theme.textColor;
            card.style.border = `2px solid ${theme.highlight}`;
            
            // **थीम-आधारित लाईट ॲनिमेशनसाठी CSS Variable सेट करा**
            card.style.setProperty('--highlight-color', theme.highlight);

            // CSS क्लास जोडून फॉन्ट लागू करा
            const fontClass = theme.font;

            card.innerHTML = `
                <!-- कार्डचा शीर्ष भाग (Card header) - नवीन टायटल बॅज स्टाईल -->
                <div class="flex justify-between items-center z-10" >
                    <span class="title-badge" style="border-left-color: ${theme.highlight};">
                        <h2 class="text-xl md:text-2xl font-semibold ${fontClass} text-[${theme.textColor}]">${item.title}</h2>
                        <p class="text-xs italic text-gray-400 mt-1">${theme.subtitle}</p>
                    </span>
                </div>
            `;

            // इव्हेंट हँडलर जोडणे (Adding Event Handlers for single tap/click)
            card.addEventListener('click', (e) => {
                // फुल-स्क्रीन मोडाल दाखवा
                handleCardAction(card, item.title, item.content, theme);
            });
            
            // टच इव्हेंट हँडलर - मोबाईलवर केवळ शॉर्ट प्रेस
            card.addEventListener('touchstart', (e) => {
                 e.preventDefault(); 
            }, { passive: false });
            
            card.addEventListener('touchend', (e) => {
                handleCardAction(card, item.title, item.content, theme);
            });
            
            return card;
        }
        
        /**
         * कार्ड्ससाठी Rise-Up ॲनिमेशन (Adds the sequential rise-up effect)
         */
        function animateCardLoad() {
            const cards = document.querySelectorAll('.ashtak-card');
            cards.forEach((card, index) => {
                // प्रत्येक कार्डला थोडे विलंबानंतर 'loaded' क्लास लावा
                setTimeout(() => {
                    card.classList.add('loaded');
                }, index * 100); // 100ms चा विलंब
            });
        }


        /**
         * ॲप सुरू करण्याची प्रक्रिया (Initialize the app)
         */
        function initApp() {
            const listContainer = document.getElementById('ashtak-list');
            
            // मुख्य बॉडीला पहिल्या थीमचा फॉन्ट कलर लावा (बॅकग्राउंड CSS ॲनिमेशनद्वारे नियंत्रित आहे)
            updateBodyTheme(customThemes[0]);

            // कार्ड्स तयार करा (Create the cards)
            ashtakData.forEach((item, index) => {
                const card = createAshtakCard(item, index);
                listContainer.appendChild(card);
            });
            
            // डीफॉल्ट फॉन्ट आकार लावा
            document.getElementById('font-size-selector').value = currentFontSizeClass;
            updateFontSize(currentFontSizeClass); 

            // ट्युटोरियल दाखवा (Show the tutorial)
            showTutorial();
            
            // डीफॉल्ट लेआऊट सेट करा
            const layoutIndicator = document.getElementById('layout-indicator');
            layoutIndicator.innerText = `लेआऊट: ${layouts[currentLayoutIndex].name}`;
            
            // कार्ड्स लोड झाल्यावर ॲनिमेशन सुरू करा
            animateCardLoad();
        }

        window.onload = initApp;

    </script>

</body>
</html>

